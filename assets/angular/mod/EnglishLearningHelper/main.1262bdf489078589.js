"use strict";(self.webpackChunkmod=self.webpackChunkmod||[]).push([[179],{3621:(C,Z,d)=>{var w=d(6593),T=d(9862),O=d(335),t=d(4946);let I=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["lib-sample"]],decls:2,vars:0,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," lib works! "),t.qZA())},encapsulation:2})}return i})();var g=d(6814);function D(i,s){}function N(i,s){}function E(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,N,0,0,"ng-template",0),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}const W=[[["","first",""]],"*"],J=["[first]","*"];let P=(()=>{class i{constructor(e,n,o){this.viewContainerRef=e,this.templateRef=n,this.elementRef=o,this.firstTemplateRef=null,console.log("viewContainerRef",this.viewContainerRef),console.log("templateRef",this.templateRef),console.log("elementRef",this.elementRef)}ngAfterContentInit(){console.log("firstTemplateRef",this.firstTemplateRef),console.log("allTemplateRef",this.allTemplateRef)}ngOnInit(){}ngAfterViewInit(){}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(t.s_b,8),t.Y36(t.Rgc,8),t.Y36(t.SBq,8))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["lib-wrapper"]],contentQueries:function(n,o,r){if(1&n&&(t.Suo(r,t.Rgc,5),t.Suo(r,t.Rgc,4)),2&n){let a;t.iGM(a=t.CRH())&&(o.firstTemplateRef=a.first),t.iGM(a=t.CRH())&&(o.allTemplateRef=a)}},ngContentSelectors:J,decls:16,vars:2,consts:[[3,"ngTemplateOutlet"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.F$t(W),t.TgZ(0,"div"),t._uU(1,"wrapper works!"),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"ng-content with select"),t.qZA(),t.Hsn(4),t.TgZ(5,"h2"),t._uU(6,"ngTemplateOutlet"),t.qZA(),t.YNc(7,D,0,0,"ng-template",0),t.TgZ(8,"h2"),t._uU(9,"ng-content"),t.qZA(),t.TgZ(10,"p"),t._uU(11,"\u5982\u679c\u6709 select \u5c6c\u6027\u5247\u6307\u5b9a\u6e32\u67d3\uff0c\u5982\u7121\u5247\u5168\u90fd\u585e\u5728\u6700\u5f8c\u4e00\u500b ng-content"),t.qZA(),t.Hsn(12,1),t.TgZ(13,"h2"),t._uU(14,"ngViewOutlet"),t.qZA(),t.YNc(15,E,2,1,"div",1)),2&n&&(t.xp6(7),t.Q6J("ngTemplateOutlet",o.firstTemplateRef),t.xp6(8),t.Q6J("ngForOf",o.allTemplateRef))},dependencies:[g.sg,g.tP]})}return i})();function R(i,s){1&i&&t._uU(0,"ng-template with Template reference variables")}function Q(i,s){1&i&&t._uU(0,"ng-template2")}function j(i,s){1&i&&t._uU(0,"ng-template3")}let L=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],decls:13,vars:0,consts:[["wrapper","",1,"wrapper"],["first",""],["template",""],["template2",""]],template:function(n,o){1&n&&(t._UZ(0,"lib-sample"),t.TgZ(1,"lib-wrapper",0),t.ynx(2,1),t._uU(3,"ng-container with select work"),t.BQk(),t.YNc(4,R,1,0,"ng-template",null,2,t.W1O),t.YNc(6,Q,1,0,"ng-template",null,3,t.W1O),t.YNc(8,j,1,0,"ng-template"),t.ynx(9),t._uU(10,"ng-container"),t.BQk(),t.TgZ(11,"div"),t._uU(12,"element"),t.qZA()())},dependencies:[I,P],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}']})}return i})();const H=["columns"],G=["flex"],Y=["grid"];function $(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"div")(2,"div",4),t._uU(3,"cardHead"),t.qZA(),t.TgZ(4,"div",5),t._uU(5),t.qZA(),t.TgZ(6,"div",6),t._uU(7,"cardFoot"),t.qZA()(),t.BQk()),2&i){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Akn(n.brick+e.color),t.xp6(4),t.hij("cardBody:",e.color,"")}}let z=(()=>{class i{constructor(){this.columnsEle={},this.flexEle={},this.gridEle={},this.masonry="",this.brick="",this.items=[{color:""},{color:""},{color:""},{color:""},{color:""},{color:""},{color:""},{color:""},{color:""}]}ngOnInit(){this.items.forEach(e=>e.color=this.GetRandomColor())}GetRandomColor(){for(var n="background-color:#",o=0;o<6;o++)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n+";"}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["mod-dynamic-masonry"]],viewQuery:function(n,o){if(1&n&&(t.Gf(H,5),t.Gf(G,5),t.Gf(Y,5)),2&n){let r;t.iGM(r=t.CRH())&&(o.columnsEle=r.first),t.iGM(r=t.CRH())&&(o.flexEle=r.first),t.iGM(r=t.CRH())&&(o.gridEle=r.first)}},decls:34,vars:5,consts:[[2,"padding","5rem"],["type","button",3,"click"],["href","https://www.w3schools.com/cssref/css3_pr_columns.php"],[4,"ngFor","ngForOf"],[1,"cardHead"],[1,"cardBody"],[1,"cardFoot"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.masonry="border:solid 8px red;columns: 3 10px;",o.brick="margin:2rem;",o.template=o.columnsEle}),t._uU(2,"Columns"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.masonry="border:solid 8px red;display: flex; flex-wrap: wrap; justify-content: space-between;",o.brick="margin:2rem;max-width: calc(33.33% - 10px);margin-bottom: 10px;",o.template=o.flexEle}),t._uU(4,"Flex"),t.qZA(),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.masonry="border:solid 8px red;display: grid;grid-template-columns: repeat(3, 1fr);grid-gap: 10px;",o.brick="margin:2rem;",o.template=o.gridEle}),t._uU(6,"Grid"),t.qZA(),t._UZ(7,"br")(8,"br")(9,"br"),t.TgZ(10,"h2"),t._uU(11),t.qZA(),t.TgZ(12,"h2"),t._uU(13),t.qZA(),t._UZ(14,"br")(15,"br"),t.TgZ(16,"p"),t._uU(17,"\u4f7f\u7528 margin \u9700\u8981\u6ce8\u610f\uff0cmargin \u662f\u91dd\u5c0d\u5bb9\u5668\u7684\uff0c\u5169\u500b mg \u6703\u4e92\u76f8\u5408\u4f75\u70ba\u4e00\u500b\uff0c\u4f46\u7279\u5225\u7684\u662f\u5217 ( columns ) \u4e4b\u9593\u6703\u4e92\u76f8\u91cd\u758a\u5c0e\u81f4\u4e0d\u898f\u5247\u7684\u8dd1\u7248\u3002"),t.qZA(),t.TgZ(18,"a",2),t._uU(19,"w3schools columns"),t.qZA(),t.TgZ(20,"p"),t._uU(21,"\u5982\u8981\u4f7f\u7528 column \u9700\u4f7f\u7528 column-gap \u6c7a\u5b9a\u5217\u4e4b\u9593\u7684\u9593\u9699\u5927\u5c0f\uff0c\u4e26\u900f\u904e padding \u8abf\u6574\u5bb9\u5668\u3002"),t.qZA(),t._UZ(22,"br"),t.TgZ(23,"p"),t._uU(24,"flex \u5247\u662f\u9700\u8a08\u7b97\u5bb9\u5668\u9593\u683c\u5927\u5c0f\u9700\u8981\u9810\u5148\u8a2d\u5b9a width \u6216 max-width \u900f\u904e\u5167\u5bb9\u6490\u958b\u5927\u5c0f"),t.qZA(),t.TgZ(25,"p"),t._uU(26,"Grid \u5247\u662f\u9700\u6ce8\u610f\u700f\u89bd\u5668\u517c\u878d\u6027"),t.qZA(),t._UZ(27,"br")(28,"br")(29,"br")(30,"br")(31,"br"),t.TgZ(32,"div"),t.YNc(33,$,8,3,"ng-container",3),t.qZA()()),2&n&&(t.xp6(11),t.hij("Masonry\uff1a",o.masonry,""),t.xp6(2),t.hij("Brick\uff1a",o.brick,""),t.xp6(19),t.Akn(o.masonry),t.xp6(1),t.Q6J("ngForOf",o.items))},dependencies:[g.sg],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}']})}return i})(),K=(()=>{class i{constructor(){}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["mod-rwd-table"]],decls:41,vars:0,consts:[[1,"rwdTable"],["colspan","4"],["data-th","Movie Title"],["data-th","Genre"],["data-th","Year"],["data-th","Gross"],["data-th","DASDAS"]],template:function(n,o){1&n&&(t.TgZ(0,"h1"),t._uU(1,"RWD List to Table"),t.qZA(),t.TgZ(2,"table",0)(3,"thead")(4,"th",1),t._uU(5,"Movie Title"),t.qZA()(),t.TgZ(6,"tbody")(7,"td",2),t._uU(8,"Star Wars"),t.qZA(),t.TgZ(9,"td",3),t._uU(10,"Adventure, Sci-fi"),t.qZA(),t.TgZ(11,"td",4),t._uU(12,"1977"),t.qZA(),t.TgZ(13,"td",5),t._uU(14,"$460,935,665"),t.qZA()(),t.TgZ(15,"tr")(16,"td",2),t._uU(17,"Howard The Duck"),t.qZA(),t.TgZ(18,"td",3),t._uU(19,'"Comedy"'),t.qZA(),t.TgZ(20,"td",4),t._uU(21,"1986"),t.qZA(),t.TgZ(22,"td",5),t._uU(23,"$16,295,774"),t.qZA()(),t.TgZ(24,"tr")(25,"td",2),t._uU(26,"American Graffiti"),t.qZA(),t.TgZ(27,"td",3),t._uU(28,"Comedy, Drama"),t.qZA(),t.TgZ(29,"td",4),t._uU(30,"1973"),t.qZA(),t.TgZ(31,"td",5),t._uU(32,"$115,000,000"),t.qZA(),t.TgZ(33,"td",6),t._uU(34,"American Graffiti"),t.qZA()(),t.TgZ(35,"tfoot")(36,"tr")(37,"td"),t._uU(38,"Sum"),t.qZA(),t.TgZ(39,"td"),t._uU(40,"$180"),t.qZA()()()())},styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}.rwdTable[_ngcontent-%COMP%]{margin:1em 0;min-width:300px}.rwdTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:.5em}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-bottom:.5em}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:6.5em;display:inline-block}@media (min-width: 480px){.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{display:none}}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left}@media (min-width: 480px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:table-cell;padding:.25em .5em}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}}']})}return i})();const S=function(i){return{active:i}};function X(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",2),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.filterActive=r)}),t._uU(1),t.qZA()}if(2&i){const e=s.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,S,n.filterActive==e)),t.xp6(1),t.Oqu(e)}}let V=(()=>{class i{constructor(e){this.httpClient=e,this.nowQuestion={},this.filterActive="all",this.btnWord="\u7b54\u6848",this.object={titles:[],types:[],questions:[]},this.url="https://sheets.googleapis.com/v4/spreadsheets/1KelsVdzmFwaW7zZtMzAgYX4YflhhBhC71O0nS995CDY/values/MemoryCards?key=AIzaSyA9Rj7WbM2Zsq-Yy2heVkcalnuX8Z98oOg",this.httpClient.get(this.url).subscribe(n=>{this.object.titles=[...n.values[0]],this.object.types=[...new Set(n.values.slice(1).map(o=>o[0]))],console.log("this.object.types",this.object.types),this.object.questions=[...n.values.slice(1).map(o=>({t:o[0],q:o[1],a:o[2]}))],this.drawCard()})}getRandomIndex(e,n=0){return Math.floor(Math.random()*(e-n+1))+n}drawCard(){let e=this.object.questions;"all"!=this.filterActive&&(e=[...this.object.questions.filter(n=>n.t==this.filterActive)]),this.nowQuestion=e[this.getRandomIndex(e.length-1)],console.log("nowCard",e),this.display=this.nowQuestion.q.toString(),console.log(this.display),this.btnWord="\u7b54\u6848"}seeAnswer(){this.display=this.nowQuestion.a.toString(),console.log(this.display),this.btnWord="\u62bd\u5361"}clickBtn(){"\u62bd\u5361"==this.btnWord?this.drawCard():this.seeAnswer()}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.eN))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["mod-memory-cards"]],decls:14,vars:7,consts:[[1,"flexCenter","screenView",2,"flex-direction","column","justify-content","center"],[1,"filter"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card","flexCenter"],[2,"margin-bottom","1rem"],[3,"click"],[1,"flexCenter",2,"margin","2rem 0"],[2,"overflow","auto","height","390px","white-space","pre-line",3,"innerHTML"],["href","https://forms.gle/eZShhKFAhDsojCGr9","target","_blank",2,"margin","1.5rem"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.NdJ("click",function(){return o.filterActive="all"}),t._uU(3,"all"),t.qZA(),t.YNc(4,X,2,4,"span",3),t.qZA(),t.TgZ(5,"div",4)(6,"span",5),t._uU(7),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return o.clickBtn()}),t._uU(9),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"div",8),t.qZA()(),t.TgZ(12,"a",9),t._uU(13,"\u65b0\u589e\u984c\u76ee"),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngClass",t.VKq(5,S,"all"==o.filterActive)),t.xp6(2),t.Q6J("ngForOf",o.object.types),t.xp6(3),t.Oqu(o.nowQuestion.t),t.xp6(2),t.Oqu(o.btnWord),t.xp6(2),t.Q6J("innerHTML",o.display,t.oJD))},dependencies:[g.mk,g.sg],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}.flexCenter[_ngcontent-%COMP%]{display:flex;align-items:center}.screenView[_ngcontent-%COMP%]{width:100vw;height:100vh}.pct100[_ngcontent-%COMP%]{width:100%;height:100%}.card[_ngcontent-%COMP%]{overflow:auto;max-width:465px;width:100%;min-height:550px;background:#fff;box-shadow:0 2px 6px #00000040;border-radius:15px;padding:2rem;flex-direction:column;font-size:1.5rem}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:3rem;border-radius:15px;border:unset}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#5f9ea0;color:#fff;cursor:pointer}.filter[_ngcontent-%COMP%]{margin:2rem 0}.filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1rem;background-color:#fff;border-radius:10px;box-shadow:0 2px 6px #00000040;margin:0 1rem}.filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:#5f9ea0;color:#fff;cursor:pointer}a[_ngcontent-%COMP%]{padding:1rem;background-color:#fff;border-radius:10px;box-shadow:0 2px 6px #00000040;margin:0 1rem}a[_ngcontent-%COMP%]:hover{background-color:#5f9ea0;color:#fff;cursor:pointer}.active[_ngcontent-%COMP%]{background-color:#5f9ea0!important;color:#fff}']})}return i})();var m=d(95);const tt=["src",""];let A=(()=>{class i{constructor(e,n){this.httpClient=e,this.sanitizer=n,this.previousInputs={}}ngOnInit(){this.setSvg()}setSvg(){this.httpClient.get(this.src,{responseType:"text"}).subscribe(e=>{let o=(new DOMParser).parseFromString(e,"image/svg+xml");o.documentElement.setAttribute("preserveAspectRatio","none"),o.documentElement.setAttribute("class",this.svgClass),o.documentElement.setAttribute("width",void 0===this.width?"100%":this.width),o.documentElement.setAttribute("height",void 0===this.height?"100%":this.height),this.svgContent=this.sanitizer.bypassSecurityTrustHtml(o.documentElement.outerHTML)})}ngDoCheck(){(this.svgClass!==this.previousInputs.svgClass||this.width!==this.previousInputs.width||this.height!==this.previousInputs.height||this.boxStyle!==this.previousInputs.boxStyle||this.src!==this.previousInputs.src)&&(this.setSvg(),this.previousInputs={svgClass:this.svgClass,width:this.width,height:this.height,boxStyle:this.boxStyle,src:this.src})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.eN),t.Y36(w.H7))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["lib-svg","src",""]],inputs:{src:"src",svgClass:"svgClass",width:"width",height:"height",boxStyle:"boxStyle"},attrs:tt,decls:1,vars:3,consts:[[3,"innerHTML"]],template:function(n,o){1&n&&t._UZ(0,"div",0),2&n&&(t.Akn(o.boxStyle),t.Q6J("innerHTML",o.svgContent,t.oJD))},styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}']})}return i})(),et=(()=>{class i{constructor(){this.menuList=[{name:"Super Menu",categories:[{name:"Tops",products:[{name:"Striped T-Shirt",imgUrl:"https://example.com/images/stripe_tshirt.jpg"},{name:"Button-up Shirt",imgUrl:"https://example.com/images/button_up_shirt.jpg"},{name:"Sweater",imgUrl:"https://example.com/images/sweater.jpg"}]},{name:"Bottoms",products:[{name:"Jeans",imgUrl:"https://example.com/images/jeans.jpg"},{name:"Chinos",imgUrl:"https://example.com/images/chinos.jpg"},{name:"Skirt",imgUrl:"https://example.com/images/skirt.jpg"}]},{name:"Dresses",products:[{name:"Summer Dress",imgUrl:"https://example.com/images/summer_dress.jpg"},{name:"Evening Gown",imgUrl:"https://example.com/images/evening_gown.jpg"},{name:"Casual Dress",imgUrl:"https://example.com/images/casual_dress.jpg"}]}]}]}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["mod-super-menu"]],decls:34,vars:1,consts:[[1,"headerLeft"],[1,"classification"],["href","#"],[1,"searchForm"],[3,"src"],[1,"categories"]],template:function(n,o){1&n&&(t.TgZ(0,"header")(1,"div",0)(2,"h1"),t._uU(3,"GET"),t.qZA(),t.TgZ(4,"ul",1)(5,"li")(6,"a",2)(7,"span"),t._uU(8,"\u7537\u88dd"),t.qZA()()(),t.TgZ(9,"li")(10,"a",2)(11,"span"),t._uU(12,"\u5973\u88dd"),t.qZA()()(),t.TgZ(13,"li")(14,"a",2)(15,"span"),t._uU(16,"\u914d\u4ef6"),t.qZA()()()(),t.TgZ(17,"form",3)(18,"button"),t._UZ(19,"lib-svg",4),t.qZA(),t._UZ(20,"input"),t.qZA(),t.TgZ(21,"div"),t._UZ(22,"div"),t.qZA()(),t.TgZ(23,"nav")(24,"ul")(25,"li"),t._uU(26," \u4e0a\u8863 "),t.qZA(),t.TgZ(27,"li"),t._uU(28," \u4e0b\u8eab "),t.qZA(),t.TgZ(29,"li"),t._uU(30," \u5bb6\u5c45\u7761\u8863 "),t.qZA(),t.TgZ(31,"li"),t._uU(32," \u5916\u5957/\u5927\u8863 "),t.qZA()()(),t._UZ(33,"div",5),t.qZA()),2&n&&(t.xp6(19),t.Q6J("src","./assets/search.svg"))},dependencies:[m._Y,m.JL,m.F,A],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}header[_ngcontent-%COMP%]{display:flex;width:1900px;padding:1.6rem 40px;margin:0 auto;justify-content:space-between;align-items:center}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:900;font-size:60px;margin-right:3.125rem}.headerLeft[_ngcontent-%COMP%]{display:flex;align-items:center}.classification[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-right:7rem}.classification[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 2rem}.classification[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#000;text-decoration:none;font-size:1.6rem}.classification[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;right:-22px;width:10px;height:6px;margin-top:-3px;background:url(/assets/scrollDown.svg) 0 0 no-repeat;background-size:contain}.searchForm[_ngcontent-%COMP%]{border:1px solid black;border-radius:32px;height:55px;position:relative}.searchForm[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;width:50px;top:10px;left:5px;position:absolute;border:none;background-color:transparent}.searchForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:450px;border:none;box-shadow:none;background:none;inset:0;height:100%;outline:none;padding:0 30px 0 60px;font-size:2rem;overflow:hidden}']})}return i})();var x=d(5861),M=d(9397),U=d(8180),nt=d(8282),h=function(i){return i.dark="dark",i.light="light",i}(h||{});let it=(()=>{class i{constructor(e){this.platformId=e}SetTheme(e){document.getElementsByTagName("html")[0].setAttribute("data-theme",e),localStorage.setItem("FAVORITE_THEME",e)}GetTheme(){const e=localStorage.getItem("FAVORITE_THEME");if(e)return e===h.dark?h.dark:h.light;if((0,g.NF)(this.platformId)){if(window.matchMedia("(prefers-color-scheme: dark)").matches)return h.dark;if(window.matchMedia("(prefers-color-scheme: light)").matches)return h.light}const n=(new Date).getHours();return n>=19||n<=6?h.dark:h.light}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(t.Lbi,8))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var _=d(5349),f=d(3583);let F=(()=>{class i{constructor(){}calculateSimilarity(e,n){const o=e?.length,r=n?.length,a=[];for(let c=0;c<=o;c++)a[c]=[c];for(let c=0;c<=r;c++)a[0][c]=c;for(let c=1;c<=o;c++)for(let p=1;p<=r;p++)a[c][p]=Math.min(a[c-1][p]+1,a[c][p-1]+1,a[c-1][p-1]+(e[c-1]===n[p-1]?0:1));const l=Math.max(o,r);return 1-a[o][r]/l}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ot=(()=>{class i{constructor(e){this.glgorithmsService=e}transform(e,n,o=b.Full){if(!n||!e)return e;let r=JSON.parse(JSON.stringify(e));if(r===(e=o===b.First?e.replace(new RegExp("\\b("+n+"\\b)","igm"),'<span class="keyword">$1</span>'):e.replace(new RegExp(n,"igm"),'<span class="keyword">$&</span>'))){let a=r.split(" "),l=[];a.forEach(u=>{let c=this.glgorithmsService.calculateSimilarity(u,n);l.push({word:u,score:c})}),l.sort((u,c)=>c.score-u.score),e=e.replace(new RegExp(l[0].word,"igm"),'<span class="keyword">$&</span>')}return e}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(F,16))};static#e=this.\u0275pipe=t.Yjl({name:"highlight",type:i,pure:!0})}return i})();var b=function(i){return i.Full="Full",i.First="First",i}(b||{});const rt=["searchWordInput"];function at(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.displayMode=o.DisplayMode.Answer,t.KtG(o.sentenceAnswerDisplay=!0)}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.displayMode," ")}}function st(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.answerScoreReset(!0))}),t._uU(2),t.qZA(),t.TgZ(3,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.answerScoreReset(!1))}),t._uU(4),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" \u6703 +",6-e.mapSeconds(e.seconds)," "),t.xp6(2),t.hij(" \u4e0d\u6703 ",-1*e.mapSeconds(e.seconds)," ")}}function lt(i,s){if(1&i&&(t.TgZ(0,"p",4),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" \u7d2f\u7a4d x ",e.answerCountToday," \u7b54\u984c!! ")}}function ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",4),t._uU(1),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"lib-svg",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.setSpeakSelection())}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.hij(" Score\uff1a",null==e.card?null:e.card.score," "),t.xp6(2),t.lnq(" , ",null==e.card||null==e.card.updateTime?null:e.card.updateTime.days," d / ",null==e.card||null==e.card.updateTime?null:e.card.updateTime.hours," h / ",null==e.card||null==e.card.updateTime?null:e.card.updateTime.minutes," m "),t.xp6(1),t.Q6J("src","./assets/audio.svg")}}function ut(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"p",20),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("innerHtml",null==e.sentence?null:e.sentence.cn,t.oJD)}}function dt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.drawSentence())}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.hij(" \u66f4\u591a\u4f8b\u53e5 (",null==e.card||null==e.card.sentences?null:e.card.sentences.length,") ")}}function pt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.sentenceAnswerDisplay=!0)}),t._uU(1," \u4f8b\u53e5\u7b54\u6848 "),t.qZA()}}function gt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"p"),t.YNc(2,ut,2,1,"ng-container",3),t.qZA(),t.YNc(3,dt,2,1,"button",2),t.YNc(4,pt,2,0,"button",2),t._UZ(5,"hr"),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.sentenceAnswerDisplay),t.xp6(1),t.Q6J("ngIf",e.sentenceAnswerDisplay&&(null==e.card||null==e.card.sentences?null:e.card.sentences.length)>1),t.xp6(1),t.Q6J("ngIf",!e.sentenceAnswerDisplay),t.xp6(3),t.Oqu(null==e.card?null:e.card.en),t.xp6(2),t.Oqu(null==e.card?null:e.card.cn)}}function mt(i,s){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.TgZ(2,"span"),t._uU(3),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" Score\uff1a",null==e.searchWord?null:e.searchWord.score," "),t.xp6(2),t.lnq(" ",null==e.searchWord||null==e.searchWord.updateTime?null:e.searchWord.updateTime.days," d / ",null==e.searchWord||null==e.searchWord.updateTime?null:e.searchWord.updateTime.hours," h / ",null==e.searchWord||null==e.searchWord.updateTime?null:e.searchWord.updateTime.minutes," m ")}}function ht(i,s){1&i&&t._UZ(0,"hr")}function _t(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,ct,5,5,"span",5),t._UZ(2,"hr")(3,"p",20),t.ALo(4,"highlight"),t.YNc(5,gt,10,5,"ng-container",3),t._UZ(6,"hr"),t.TgZ(7,"div")(8,"input",21,22),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.searchWord.word=o)}),t.qZA(),t.TgZ(10,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.searchWordMark())}),t._uU(11,"\u641c\u5c0b\u55ae\u5b57\u8a3b\u8a18\u4e0d\u6703"),t.qZA(),t._UZ(12,"p",23),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.YNc(15,mt,4,4,"p",3),t.YNc(16,ht,1,0,"hr",3),t.TgZ(17,"p"),t._uU(18),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.card?null:e.card.score),t.xp6(2),t.Q6J("innerHtml",t.Dn7(4,9,null==e.sentence?null:e.sentence.en,null==e.card?null:e.card.en,e.REGEXP_TYPE.First),t.oJD),t.xp6(2),t.Q6J("ngIf",e.displayMode===e.DisplayMode.Answer),t.xp6(3),t.Q6J("ngModel",e.searchWord.word),t.xp6(4),t.Q6J("innerHTML",null==e.searchWord?null:e.searchWord.display,t.oJD),t.xp6(2),t.Oqu(null==e.searchWord?null:e.searchWord.explain),t.xp6(1),t.Q6J("ngIf",null==e.searchWord?null:e.searchWord.score),t.xp6(1),t.Q6J("ngIf",null==e.searchWord?null:e.searchWord.similarWords),t.xp6(2),t.Oqu(null==e.searchWord?null:e.searchWord.similarWords)}}function ft(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.TgZ(5,"td",28),t._uU(6),t.qZA(),t.TgZ(7,"td",29),t._uU(8),t.qZA(),t.TgZ(9,"td",30),t._uU(10),t.qZA(),t.TgZ(11,"td",31),t._uU(12),t.qZA(),t.TgZ(13,"td",32),t._uU(14),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(null==e?null:e.drawCount),t.xp6(2),t.Oqu(null==e?null:e.en),t.xp6(2),t.Oqu(null==e?null:e.finalScore),t.xp6(2),t.Oqu(null==e?null:e.weightedScore),t.xp6(2),t.Oqu(null==e?null:e.sentencesLength),t.xp6(2),t.Oqu(null==e?null:e.score),t.xp6(2),t.lnq(" ",null==e||null==e.updateTime?null:e.updateTime.days," d / ",null==e||null==e.updateTime?null:e.updateTime.hours," h / ",null==e||null==e.updateTime?null:e.updateTime.minutes," m ")}}function Ct(i,s){if(1&i&&(t.TgZ(0,"ol",38)(1,"li"),t._uU(2),t.qZA(),t.TgZ(3,"li"),t._uU(4),t.qZA(),t.TgZ(5,"li"),t._uU(6),t.qZA(),t.TgZ(7,"li"),t._uU(8),t.qZA(),t.TgZ(9,"li"),t._uU(10),t.qZA(),t.TgZ(11,"li"),t._uU(12),t.qZA(),t.TgZ(13,"li"),t._uU(14),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.hij("\u62bd\u53d6\u6b21\u6578\uff1a",null==e?null:e.drawCount,""),t.xp6(2),t.hij("\u62bd\u5230\u7684\u55ae\u5b57\uff1a",null==e?null:e.en,""),t.xp6(2),t.hij("\u6700\u7d42\u5206\u6578\uff1a",null==e?null:e.finalScore,""),t.xp6(2),t.hij("\u52a0\u6b0a\u5206\u6578\uff1a",null==e?null:e.weightedScore,""),t.xp6(2),t.hij("\u53e5\u5b50\u983b\u7387\u6b21\u6578\uff1a",null==e?null:e.sentencesLength,""),t.xp6(2),t.hij("\u7b54\u984c\u5206\u6578\uff1a",null==e?null:e.score,""),t.xp6(2),t.lnq(" \u4e0a\u6b21\u7b54\u984c\u6642\u9593\uff1a ",null==e||null==e.updateTime?null:e.updateTime.days," d / ",null==e||null==e.updateTime?null:e.updateTime.hours," h / ",null==e||null==e.updateTime?null:e.updateTime.minutes," m ")}}function wt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"table")(2,"thead")(3,"th",25),t._uU(4),t.qZA()(),t.TgZ(5,"tbody")(6,"td",26),t._uU(7,"\u62bd\u53d6\u6b21\u6578"),t.qZA(),t.TgZ(8,"td",27),t._uU(9,"\u62bd\u5230\u7684\u55ae\u5b57"),t.qZA(),t.TgZ(10,"td",28),t._uU(11,"\u6700\u7d42\u5206\u6578"),t.qZA(),t.TgZ(12,"td",29),t._uU(13,"\u52a0\u6b0a\u5206\u6578"),t.qZA(),t.TgZ(14,"td",30),t._uU(15,"\u53e5\u5b50\u983b\u7387\u6b21\u6578"),t.qZA(),t.TgZ(16,"td",31),t._uU(17,"\u7b54\u984c\u5206\u6578"),t.qZA(),t.TgZ(18,"td",32),t._uU(19,"\u4e0a\u6b21\u7b54\u984c\u6642\u9593"),t.qZA()(),t.YNc(20,ft,15,9,"tr",33),t.TgZ(21,"tfoot")(22,"th",34),t._uU(23),t.qZA()()(),t.TgZ(24,"div",35)(25,"p"),t._uU(26),t.qZA(),t.TgZ(27,"p"),t._uU(28),t.qZA(),t.TgZ(29,"p"),t._uU(30),t.qZA(),t.YNc(31,Ct,15,9,"ol",36),t.qZA(),t._UZ(32,"hr",37),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.lnq(" \u982d\u734e\u9580\u6abb\uff1a",null==e.debug?null:e.debug.thresholdScore," / \u5e73\u5747\u62bd\u53d6\u6b21\u6578 ",e.getAverage(e.drawCountRecord)," / \u5e73\u5747\u9580\u6abb ",e.getAverage(e.finalScoreRecord)," "),t.xp6(16),t.Q6J("ngForOf",null==e.debug?null:e.debug.list),t.xp6(3),t.AsE(" \u52a0\u6b0a\u5206\u6578 = \u53e5\u5b50\u983b\u7387\u6b21\u6578 + ( \u7b54\u984c\u5206\u6578 * \u7b54\u984c\u52a0\u6b0a config.questionsScore.score\uff1a",null==e.config?null:e.config.questionsScore," ) + ( \u4e0a\u6b21\u7b54\u984c\u6642\u9593 D * \u8a2d\u5b9a\u6a94\u6642\u9593\u52a0\u6b0a config.dayScore.score\uff1a ",null==e.config?null:e.config.dayScore," ) "),t.xp6(3),t.hij("\u982d\u734e\u9580\u6abb\uff1a",null==e.debug?null:e.debug.thresholdScore,""),t.xp6(2),t.hij("\u5e73\u5747\u62bd\u53d6\u6b21\u6578 ",e.getAverage(e.drawCountRecord),""),t.xp6(2),t.hij("\u5e73\u5747\u9580\u6abb ",e.getAverage(e.finalScoreRecord),""),t.xp6(1),t.Q6J("ngForOf",null==e.debug?null:e.debug.list)}}function Tt(i,s){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.cn," ")}}function xt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"button",8),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.setUnfamiliarDisplayAnswer(r))}),t._uU(3," \u770b\u7b54\u6848 "),t.qZA()(),t.TgZ(4,"td",39),t._uU(5),t.qZA(),t.TgZ(6,"td",30),t._uU(7),t.qZA(),t.TgZ(8,"td",31)(9,"button",8),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.answerUnfamiliarScoreReset(!0,null==r?null:r.en))}),t._uU(10,"+"),t.qZA(),t._uU(11),t.TgZ(12,"button",8),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.answerUnfamiliarScoreReset(!1,null==r?null:r.en))}),t._uU(13,"-"),t.qZA()(),t.TgZ(14,"td",32),t._uU(15),t.qZA(),t.TgZ(16,"td",41),t.YNc(17,Tt,2,1,"ng-container",3),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(5),t.Oqu(null==e?null:e.en),t.xp6(2),t.Oqu(null==e?null:e.sentencesLength),t.xp6(4),t.hij(" ",null==e?null:e.score," "),t.xp6(4),t.lnq(" ",null==e||null==e.updateTime?null:e.updateTime.days," d / ",null==e||null==e.updateTime?null:e.updateTime.hours," h / ",null==e||null==e.updateTime?null:e.updateTime.minutes," m "),t.xp6(2),t.Q6J("ngIf",null==e?null:e.displayAnswer)}}function Mt(i,s){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e?null:e.cn," ")}}function bt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"ol",38)(1,"li")(2,"button",8),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.setUnfamiliarDisplayAnswer(r))}),t._uU(3," \u770b\u7b54\u6848 "),t.qZA()(),t.TgZ(4,"li"),t._uU(5),t.qZA(),t.TgZ(6,"li"),t._uU(7),t.qZA(),t.TgZ(8,"li"),t._uU(9,"\u7b54\u984c\u5206\u6578\uff1a "),t.TgZ(10,"button",42),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.answerUnfamiliarScoreReset(!0,null==r?null:r.en))}),t._uU(11,"+"),t.qZA(),t._uU(12),t.TgZ(13,"button",42),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.answerUnfamiliarScoreReset(!1,null==r?null:r.en))}),t._uU(14,"-"),t.qZA()(),t.TgZ(15,"li"),t._uU(16),t.qZA(),t.TgZ(17,"li"),t._uU(18," \u4e2d\u6587\uff1a "),t.YNc(19,Mt,2,1,"ng-container",3),t.qZA()()}if(2&i){const e=s.$implicit;t.xp6(5),t.hij("\u82f1\u6587\uff1a",null==e?null:e.en,""),t.xp6(2),t.hij("\u53e5\u5b50\u983b\u7387\u6b21\u6578\uff1a",null==e?null:e.sentencesLength,""),t.xp6(5),t.hij(" ",null==e?null:e.score," "),t.xp6(4),t.lnq(" \u4e0a\u6b21\u7b54\u984c\u6642\u9593\uff1a ",null==e||null==e.updateTime?null:e.updateTime.days," d / ",null==e||null==e.updateTime?null:e.updateTime.hours," h / ",null==e||null==e.updateTime?null:e.updateTime.minutes," m "),t.xp6(3),t.Q6J("ngIf",null==e?null:e.displayAnswer)}}function yt(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"table")(2,"tbody")(3,"td"),t._uU(4,"\u986f\u793a\u4e2d\u6587"),t.qZA(),t.TgZ(5,"td",39),t._uU(6,"\u82f1\u6587"),t.qZA(),t.TgZ(7,"td",30),t._uU(8,"\u53e5\u5b50\u983b\u7387\u6b21\u6578"),t.qZA(),t.TgZ(9,"td",31),t._uU(10,"\u7b54\u984c\u5206\u6578"),t.qZA(),t.TgZ(11,"td",32),t._uU(12,"\u4e0a\u6b21\u7b54\u984c\u6642\u9593"),t.qZA(),t.TgZ(13,"td",40),t._uU(14,"\u4e2d\u6587"),t.qZA()(),t.YNc(15,xt,18,7,"tr",33),t.qZA(),t.TgZ(16,"div",35),t.YNc(17,bt,20,7,"ol",36),t.qZA(),t._UZ(18,"hr"),t.BQk()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.unfamiliarList),t.xp6(2),t.Q6J("ngForOf",e.unfamiliarList)}}function Ot(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",43)(1,"textarea",44),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.answerScoreDisplay=o)}),t.qZA(),t.TgZ(2,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.importAnswerScore())}),t._uU(3,"\u532f\u5165"),t.qZA(),t._UZ(4,"hr",37),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.answerScoreDisplay)}}function At(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",45),t._UZ(1,"hr"),t.TgZ(2,"p"),t._uU(3," Config\uff1a"),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.importConfig())}),t._uU(5," \u66f4\u6539\u8a2d\u5b9a\u6a94 "),t.qZA()(),t.TgZ(6,"label",46),t._uU(7,"\u7b54\u984c\u65e5\u671f\u52a0\u6b0a\u5206\u6578"),t.qZA(),t.TgZ(8,"input",47),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.config.dayScore=o)}),t.qZA(),t.TgZ(9,"label",48),t._uU(10,"\u932f\u8aa4\u52a0\u6b0a\u5206\u6578"),t.qZA(),t.TgZ(11,"input",49),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.config.questionsScore=o)}),t.qZA(),t.TgZ(12,"label"),t._uU(13,"\u62bd\u7c64\u6a21\u5f0f"),t.qZA(),t.TgZ(14,"div",50)(15,"input",51),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.config.drawMode=o)}),t.qZA(),t.TgZ(16,"label",52),t._uU(17,"\u932f\u8aa4\u512a\u5148"),t.qZA(),t.TgZ(18,"input",53),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.config.drawMode=o)}),t.qZA(),t.TgZ(19,"label",54),t._uU(20,"\u5b8c\u5168\u96a8\u6a5f"),t.qZA()(),t.TgZ(21,"label",55),t._uU(22,"\u81ea\u52d5\u62bd\u53d6\u79d2\u6578"),t.qZA(),t.TgZ(23,"input",56),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.config.autoDrawSeconds=o)}),t.qZA(),t.TgZ(24,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.automaticDrawCard())}),t._uU(25,"\u81ea\u52d5\u62bd\u53d6"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngModel",e.config.dayScore),t.xp6(3),t.Q6J("ngModel",e.config.questionsScore),t.xp6(4),t.Q6J("ngModel",e.config.drawMode),t.xp6(3),t.Q6J("ngModel",e.config.drawMode),t.xp6(5),t.Q6J("ngModel",e.config.autoDrawSeconds)}}function vt(i,s){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=s.$implicit,n=s.index;t.xp6(1),t.lnq(" ",n+1,".",e.email," => ",e.answerScore.length," ")}}function Zt(i,s){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=s.$implicit,n=s.index;t.xp6(1),t.lnq(" ",n+1,".",e.email," => ",e.positive," ")}}function Pt(i,s){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=s.$implicit,n=s.index;t.xp6(1),t.lnq(" ",n+1,".",e.email," => ",e.negative," ")}}function St(i,s){if(1&i&&(t.TgZ(0,"div",58)(1,"ol")(2,"li",59),t._uU(3,"\u7b54\u984c\u6700\u591a"),t.qZA(),t.YNc(4,vt,2,3,"li",33),t.qZA(),t.TgZ(5,"ol")(6,"li",60),t._uU(7,"\u6b63\u5206\u6700\u591a"),t.qZA(),t.YNc(8,Zt,2,3,"li",33),t.qZA(),t.TgZ(9,"ol")(10,"li",61),t._uU(11,"\u8ca0\u5206\u6700\u591a"),t.qZA(),t.YNc(12,Pt,2,3,"li",33),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.answeredMostQuestions),t.xp6(4),t.Q6J("ngForOf",e.mostPositivePoints),t.xp6(4),t.Q6J("ngForOf",e.mostNegativePoints)}}function Ut(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",62)(1,"input",63),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.email=o)}),t.qZA(),t.TgZ(2,"input",64),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.password=o)}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.email),t.xp6(1),t.Q6J("ngModel",e.password)}}function Ft(i,s){if(1&i&&t._uU(0),2&i){const e=t.oxw();let n;t.hij(" \u60a8\u597d\u5c0a\u656c\u7684 ",null!==(n=null==e.user?null:e.user.displayName)&&void 0!==n?n:null==e.user?null:e.user.email," ")}}function kt(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateLog())}),t._uU(2,"\u4e0a\u50b3\u7d00\u9304"),t.qZA(),t.TgZ(3,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.downloadLog())}),t._uU(4,"\u4e0b\u8f09\u7d00\u9304"),t.qZA(),t.TgZ(5,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logout())}),t._uU(6,"\u767b\u51fa"),t.qZA(),t.BQk()}}function qt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.login())}),t._uU(1,"\u767b\u5165"),t.qZA(),t.TgZ(2,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.signUp())}),t._uU(3,"\u8a3b\u518a"),t.qZA()}}let Bt=(()=>{class i{constructor(e,n,o){this.httpClient=e,this.themeService=n,this.glgorithmsService=o,this.url="./assets/scoreData.json",this.cards=[],this.sentenceAnswerDisplay=!0,this.DisplayMode=y,this.displayMode=y.Questions,this.answerScore=[],this.theme=h,this.config={},this.REGEXP_TYPE=b,this.drawCountRecord=[],this.finalScoreRecord=[],this.tempSentencesIndex=[],this.answerTodayArray=[],this.answerCountToday=0,this.familiarity={},this.searchWord={word:"",explain:"",display:"",score:"",similarWords:""},this.nowTheme=this.themeService.GetTheme(),this.isExportAnswerScore=!1,this.answerScoreDisplay=[],this.debugDisplay=JSON.parse(localStorage.getItem("clickDebug")??"false"),this.displayUnfamiliar=JSON.parse(localStorage.getItem("displayUnfamiliar")??"false"),this.unfamiliarList=[],this.isEnterRegistPage=!1,this.firestore=(0,t.f3M)(_.gg),this.auth=(0,t.f3M)(f.gx),this.user$=(0,f.EA)(this.auth),this.seconds=0,this.speakSelection=!1,this.httpClient.get(this.url).pipe((0,M.b)(r=>{this.cards=r.sort((a,l)=>l?.sentences?.length-a?.sentences?.length),this.answerScore=JSON.parse(localStorage.getItem("answerScore")??"[]"),this.configInit()})).subscribe(r=>{this.drawCard()}),this.themeService.SetTheme(this.themeService.GetTheme())}ngOnDestroy(){this.logsSub.unsubscribe()}automaticDrawCard(){this.timer?(clearInterval(this.timer),this.timer=void 0):confirm("\u81ea\u52d5\u62bd\u53d6\u958b\u59cb\uff0c\u82e5\u8981\u7d50\u675f\u8acb\u91cd\u8907\u9ede\u64ca\u6309\u9215")&&(this.drawCountRecord=[],this.finalScoreRecord=[],this.timer=setInterval(()=>{this.drawCard()},1e3*this.config.autoDrawSeconds))}getAverage(e){return e.reduce((n,o)=>n+o,0)/e.length}drawCard(){try{"errorFirst"===this.config.drawMode&&(this.cards.forEach(l=>{let u=this.answerScore?.find(c=>c?.en===l?.en);l.score=u?.score??0,l.updateTime=this.calculateTime(u??void 0)}),this.cards?.sort((l,u)=>this.unfamiliarSorting(l,u))),this.debug={thresholdScore:0,list:[]};const e=this.cards.reduce((l,u)=>l+u?.sentences?.length,0);let n=0;const o=Math.random()*e;this.debug.thresholdScore=o,this.finalScoreRecord.push(o);let r=0,a=!0;for(;a;){let l=0;l="errorFirst"===this.config.drawMode?r:this.getRandomNum(this.cards?.length-1);let u=n;n+=this.cards[l]?.sentences?.length;let c=this.answerScore.find(p=>p.en===this.cards[l].en);if(c&&(n+=-1*c.score*(this.config?.questionsScore?this.config?.questionsScore:1e3),c.updateTime&&c.score<=0)){let p=this.config?.dayScore?this.config?.dayScore:1e3,v=this.calculateTime(c?.updateTime);n+=(v?.days??1)*p}this.debug.list.push({finalScore:n,en:this.cards[l]?.en,drawCount:1+r++,sentencesLength:this.cards[l]?.sentences?.length,score:c?.score,updateTime:this.calculateTime(c?.updateTime),weightedScore:n-u}),o<=n&&this.cards[l]?.en!==this.card?.en&&(this.card=JSON.parse(JSON.stringify(this.cards[l])),this.card.score=c?.score,this.card.updateTime=this.calculateTime(c?.updateTime),a=!1,this.drawCountRecord.push(r))}this.debug.list=this.debug.list.sort((l,u)=>u.drawCount-l.drawCount),this.displayMode=y.Questions,this.tempSentencesIndex=[],this.drawSentence(),this.calculateFamiliarity(),this.unfamiliarReflash(),this.updateTimer()}catch(e){alert(e)}}unfamiliarSorting(e,n){return e?.score===n?.score?n?.updateTime?.day===e?.updateTime?.day?n?.updateTime?.hours===e?.updateTime?.hours?n?.updateTime?.minutes-e?.updateTime?.minutes:n?.updateTime?.hours-e?.updateTime?.hours:n?.updateTime?.day-e?.updateTime?.day:e?.score-n?.score}drawSentence(){try{let e;for(this.sentenceAnswerDisplay=!1,this.sentence=void 0,this.tempSentencesIndex?.length==this.card?.sentences?.length&&(this.tempSentencesIndex=[]);!this.sentence;)e=this.getRandomNum(this.card?.sentences?.length-1),-1==this.tempSentencesIndex.indexOf(e)&&this.sentence?.en!=this.card?.sentences[e]?.en&&(this.sentence=this.card?.sentences[e],this.tempSentencesIndex.push(e))}catch(e){alert(e)}}answerScoreReset(e){try{this.answerCountToday++;const n=(new Date).setHours(0,0,0,0),o=this.calculateTime(n),r=this.answerTodayArray.find(c=>c.day===n);r&&0===o?.days?r.count=this.answerCountToday:this.answerTodayArray.push({day:n,count:this.answerCountToday}),localStorage.setItem("answerTodayArray",JSON.stringify(this.answerTodayArray));let a=this.answerScore.find(c=>c.en==this.card.en),l=6-this.mapSeconds(this.seconds),u=-1*this.mapSeconds(this.seconds);a?(a.score+=e?l:u,a.updateTime=Date.now()):this.answerScore.push({en:this.card.en,score:e?l:u,updateTime:Date.now()}),localStorage.setItem("answerScore",JSON.stringify(this.answerScore)),this.drawCard()}catch(n){alert(n)}}calculateFamiliarity(){try{this.familiarity.total=this.cards.length;let e=this.answerScore.filter(o=>0===o.score).length;this.familiarity.notReviewed=e+(this.cards.length-this.answerScore.length),this.familiarity.veryUnfamiliar=this.answerScore.filter(o=>o.score<=-5).length,this.familiarity.unfamiliar=this.answerScore.filter(o=>o.score<0&&o.score>-5).length,this.familiarity.familiar=this.answerScore.filter(o=>o.score>0&&o.score<5).length,this.familiarity.veryFamiliar=this.answerScore.filter(o=>o.score>=5).length,this.drawChat()}catch(e){alert(e)}}drawChat(){try{this.chart&&this.chart.destroy();this.chart=new nt.ZP("canvas",{type:"pie",data:{labels:[`\u672a\u8907\u7fd2\u5230 ${this.familiarity.notReviewed}`,`\u8d85\u4e0d\u719f\u6089 ${this.familiarity.veryUnfamiliar}`,`\u4e0d\u719f\u6089 ${this.familiarity.unfamiliar}`,`\u719f\u6089 ${this.familiarity.familiar}`,`\u8d85\u719f\u6089 ${this.familiarity.veryFamiliar}`],datasets:[{label:"# of Votes",data:[this.familiarity.notReviewed,this.familiarity.veryUnfamiliar,this.familiarity.unfamiliar,this.familiarity.familiar,this.familiarity.veryFamiliar],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"\u719f\u6089\u5ea6"}},animation:{duration:0}}})}catch(e){alert(e)}}onResize(e){this.drawChat()}resetAnswerScore(){confirm("\u78ba\u5b9a\u8981\u522a\u9664\u7d00\u9304\u55ce\uff1f")&&(this.answerScore=[],localStorage.setItem("answerScore",JSON.stringify(this.answerScore)),this.calculateFamiliarity())}searchWordMark(){try{let e=this.searchWord.word.split(" ").join("");if(null!=e&&""!==e){let n=[];this.cards.forEach(l=>{let u=this.glgorithmsService.calculateSimilarity(l?.en,e);n.push({en:l?.en,cn:l?.cn,searchWord:e,cal:u})});let o=n.sort((l,u)=>u.cal-l.cal);this.searchWord.similarWords=`\u76f8\u4f3c\u55ae\u5b57\uff1a${o.slice(0,5).map(l=>`[${l.en}]${l.cn}`).join("\uff0c")}`;const r=new RegExp(`\\b${e}\\b`,"gi"),a=this.cards.find(l=>l.en.match(r));if(a){const l=this.answerScore.find(c=>c.en.match(r)),u=JSON.stringify(l?.updateTime);l?(l.score-=5,this.searchWord.updateTime=this.calculateTime(u),l.updateTime=Date.now(),this.searchWord.score=l?.score):(this.answerScore.push({en:e,score:-5,updateTime:Date.now()}),this.searchWord.score=-5),localStorage.setItem("answerScore",JSON.stringify(this.answerScore)),this.searchWord.explain=a.cn,alert("\u5df2\u6263 5 \u5206"),this.calculateFamiliarity(),this.searchWord.display=e,this.searchWord.word=""}else alert("\u5b57\u5eab\u641c\u5c0b\u4e0d\u5230\u6b64\u55ae\u5b57\uff0c\n\u4ee5\u4e0b\u70ba[\u8ddd\u96e2\u7b97\u6cd5]\u9078\u51fa\u5b57\u5eab\u524d\u4e94\u500b\u76f8\u4f3c\u5ea6\u9ad8\u7684\u55ae\u5b57\u3002"),this.searchWord.word=o[0].en;this.unfamiliarReflash()}this.goToAnchor("searchWordInput")}catch(e){alert(e)}}setTheme(){this.nowTheme=this.nowTheme===this.theme.dark?this.theme.light:this.theme.dark,this.themeService.SetTheme(this.nowTheme)}clickImExport(){this.isExportAnswerScore=!this.isExportAnswerScore,this.answerScoreDisplay=JSON.stringify([...this.answerScore])}importAnswerScore(){confirm("\u78ba\u5b9a\u8981\u532f\u5165(\u7d00\u9304\u66f4\u6539\u5f8c\u7121\u6cd5\u8fd4\u56de)\uff1f")&&(this.answerScore=[...JSON.parse(this.answerScoreDisplay)],localStorage.setItem("answerScore",JSON.stringify(this.answerScore)),this.isExportAnswerScore=!1,this.calculateFamiliarity())}clickDebug(){this.debugDisplay=!this.debugDisplay,localStorage.setItem("clickDebug",this.debugDisplay)}importConfig(){confirm("\u78ba\u5b9a\u8981\u66f4\u6539\u8a2d\u5b9a\u6a94\u55ce\uff1f")&&(localStorage.setItem("drawCardConfig",JSON.stringify(this.config)),this.drawCard())}configInit(){let e=localStorage.getItem("drawCardConfig");if(this.config=e?JSON.parse(e):{dayScore:1e3,questionsScore:1e3,drawMode:"completelyRandom",autoDrawSeconds:5},this.config.drawMode||(localStorage.removeItem("drawCardConfig"),this.config={dayScore:1e3,questionsScore:1e3,drawMode:"completelyRandom"}),this.answerTodayArray=JSON.parse(localStorage.getItem("answerTodayArray")??"[]"),this.answerTodayArray.length>0){let n=this.answerTodayArray?.find(o=>o.day==(new Date).setHours(0,0,0,0));n&&(this.answerCountToday=n.count)}}calculateTime(e){if(e){var n=Math.abs(Date.now()-e);return{days:Math.floor(n/864e5),hours:Math.floor(n%864e5/36e5),minutes:Math.floor(n%36e5/6e4)}}}changeDisplayUnfamiliar(){this.displayUnfamiliar=!this.displayUnfamiliar,localStorage.setItem("displayUnfamiliar",JSON.stringify(this.displayUnfamiliar))}unfamiliarReflash(){this.unfamiliarList=[],this.answerScore.forEach(e=>{let n=this.cards.find(o=>o.en===e.en);n?.en&&this.unfamiliarList.push({en:n?.en,cn:n?.cn,sentencesLength:n?.sentences?.length,score:e?.score,updateTime:this.calculateTime(e?.updateTime),displayAnswer:!1})}),this.unfamiliarList.sort((e,n)=>this.unfamiliarSorting(e,n))}getRandomNum(e,n=0){return n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n+1))+n}login(){var e=this;return(0,x.Z)(function*(){try{yield(0,f.e5)(e.auth,e.email,e.password),e.user$=(0,f.fD)(e.auth),e.refleshUser(),e.refleshLogs()}catch(n){alert(n)}})()}logout(){var e=this;return(0,x.Z)(function*(){try{yield(0,f.w7)(e.auth),e.logsSub&&(e.logsSub.unsubscribe(),e.user=null,e.logs=null),alert("\u767b\u51fa\u6210\u529f")}catch(n){alert(n)}})()}signUp(){var e=this;return(0,x.Z)(function*(){try{yield(0,f.Xb)(e.auth,e.email,e.password),e.refleshUser(),e.refleshLogs()}catch(n){alert(n)}})()}enterRegistPage(){this.refleshUser(),this.refleshLogs(),this.isEnterRegistPage=!0}refleshLogs(){this.logsCollection=(0,_.hJ)(this.firestore,"Logs"),this.logs$=(0,_.BS)(this.logsCollection),this.logsSub=this.logs$.pipe((0,U.q)(1),(0,M.b)(e=>{this.logs=e,this.countRankingList()})).subscribe()}refleshUser(){this.user||this.user$.pipe((0,M.b)(e=>{this.user=e}),(0,U.q)(1)).subscribe()}updateLog(){var e=this;return(0,x.Z)(function*(){if(confirm("\u78ba\u5b9a\u8981\u66f4\u65b0\u96f2\u7aef\u7d00\u9304\u55ce\uff1f(\u6b64\u52d5\u4f5c\u4e0d\u53ef\u9006)")&&e.user){let n=e.user?.email??"???";e.logsCollection=(0,_.hJ)(e.firestore,"Logs"),yield(0,_.pl)((0,_.JU)(e.logsCollection,e.user.uid),{email:n,answerScore:e.answerScore}),e.refleshLogs(),alert("\u66f4\u65b0\u6210\u529f")}})()}downloadLog(){if(confirm("\u78ba\u5b9a\u8981\u66f4\u65b0\u672c\u5730\u7d00\u9304\u55ce\uff1f(\u6b64\u52d5\u4f5c\u4e0d\u53ef\u9006)")&&this.user){const e=this.logs.find(n=>n.email===this.user?.email);e?(this.answerScore=JSON.parse(JSON.stringify(e.answerScore)),localStorage.setItem("answerScore",JSON.stringify(this.answerScore)),this.calculateFamiliarity(),this.unfamiliarReflash(),alert("\u66f4\u65b0\u6210\u529f")):alert("\u672a\u627e\u5230\u7d00\u9304")}}changeDisplayName(){}countRankingList(){this.logs&&(this.answeredMostQuestions=this.logs.sort((e,n)=>e.answerScore.length-n.answerScore.length),this.logs.forEach(e=>{let n=0,o=0;e.answerScore.forEach(r=>{r.score>=0?n+=r.score:o+=r.score}),e.positive=n??0,e.negative=o??0}),this.mostPositivePoints=this.logs.sort((e,n)=>e.positive-n.positive),this.mostNegativePoints=this.logs.sort((e,n)=>e.negative-n.negative))}updateTimer(){this.timerId&&(clearInterval(this.timerId),this.seconds=0);const e=this;this.timerId=setInterval(function(){e.seconds++},1e3)}goToAnchor(e){this.searchWordInput.nativeElement.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}mapSeconds(e){const l=Math.min(Math.max(e,1),120);return Math.ceil(4*(l-1+1)/119)+1-1}setUnfamiliarDisplayAnswer(e){e.displayAnswer=!e.displayAnswer,setTimeout(()=>{e.displayAnswer=!e.displayAnswer},5e3)}answerUnfamiliarScoreReset(e,n){let o=this.answerScore.find(r=>r.en==n);e?o.score+=1:o.score-=1,o.updateTime=Date.now(),localStorage.setItem("answerScore",JSON.stringify(this.answerScore)),this.calculateFamiliarity(),this.unfamiliarReflash()}mouseUp(e){if(this.speakSelection){let o=document;var n=null;window.getSelection?n=window.getSelection():typeof o.selection<"u"&&(n=o.selection),this.speak(n.getRangeAt(0))}}speak(e,n=""){const o=window.speechSynthesis;let r=new SpeechSynthesisUtterance;""!==n&&(r.lang=n),r.text=e,o.speak(r)}setSpeakSelection(){this.speakSelection=!this.speakSelection;let e="\u9ede\u64ca\u6717\u8b80\u6a21\u5f0f";e+=this.speakSelection?"\u958b\u555f":"\u95dc\u9589",this.speak(e,"zh-TW")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(T.eN),t.Y36(it),t.Y36(F))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["mod-wordup-improve"]],viewQuery:function(n,o){if(1&n&&t.Gf(rt,5),2&n){let r;t.iGM(r=t.CRH())&&(o.searchWordInput=r.first)}},hostBindings:function(n,o){1&n&&t.NdJ("mouseup",function(a){return o.mouseUp(a)},!1,t.Jf7)("touchend",function(a){return o.mouseUp(a)})},decls:47,vars:23,consts:[[1,"box",3,"resize"],[1,"toolBox"],[3,"click",4,"ngIf"],[4,"ngIf"],[1,"subInfo"],["class","subInfo",4,"ngIf"],[1,"cardBox"],[2,"max-width","85vw"],[1,"unobviousBtn",3,"click"],["style","display: flex; flex-direction: column",4,"ngIf"],["id","canvas"],["style","display: flex; flex-direction: column; align-items: center",4,"ngIf"],[1,"login"],["class","rankingList",4,"ngIf"],["class","user",4,"ngIf","ngIfElse"],["userLogining",""],[1,"info"],[4,"ngIf","ngIfElse"],["unLogin",""],[3,"click"],[3,"innerHtml"],["autocomplete","new-password","type","text",3,"ngModel","ngModelChange"],["searchWordInput",""],[3,"innerHTML"],[3,"src","click"],["colspan","7"],["data-th","\u62bd\u53d6\u6b21\u6578"],["data-th","\u62bd\u5230\u7684\u55ae\u5b57"],["data-th","\u6700\u7d42\u5206\u6578"],["data-th","\u52a0\u6b0a\u5206\u6578"],["data-th","\u53e5\u5b50\u983b\u7387\u6b21\u6578"],["data-th","\u7b54\u984c\u5206\u6578"],["data-th","\u4e0a\u6b21\u7b54\u984c\u6642\u9593"],[4,"ngFor","ngForOf"],["colspan","7",2,"font-size","15px","color","darkcyan"],[1,"list"],["style","border: 1px solid #ccc",4,"ngFor","ngForOf"],[2,"width","95%"],[2,"border","1px solid #ccc"],["data-th","\u82f1\u6587"],["data-th","\u4e2d\u6587",2,"min-width","20rem"],["data-th","\u4e2d\u6587"],[2,"min-width","unset",3,"click"],[2,"display","flex","flex-direction","column"],[3,"ngModel","ngModelChange"],[2,"display","flex","flex-direction","column","align-items","center"],["for","dayScore"],["id","dayScore",3,"ngModel","ngModelChange"],["for","questionsScore"],["id","questionsScore",3,"ngModel","ngModelChange"],[1,"drawMode"],["id","errorFirst","type","radio","name","drawMode","value","errorFirst",3,"ngModel","ngModelChange"],["for","errorFirst"],["id","completelyRandom","type","radio","name","drawMode","value","completelyRandom",3,"ngModel","ngModelChange"],["for","completelyRandom"],["for","autoDrawSeconds"],["id","autoDrawSeconds","type","number",3,"ngModel","ngModelChange"],["type","button",3,"click"],[1,"rankingList"],[1,"answeredMostQuestions"],[1,"mostPositivePoints"],[1,"mostNegativePoints"],[1,"user"],["autocomplete","new-password","type","email","placeholder","email",3,"ngModel","ngModelChange"],["autocomplete","new-password","type","password","placeholder","password",3,"ngModel","ngModelChange"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("resize",function(a){return o.onResize(a)},!1,t.Jf7),t.TgZ(1,"div",1),t.YNc(2,at,2,1,"button",2),t.YNc(3,st,5,2,"ng-container",3),t.qZA(),t.TgZ(4,"p",4),t._uU(5),t.qZA(),t.YNc(6,lt,2,1,"p",5),t.TgZ(7,"div",6),t.YNc(8,_t,19,13,"div",3),t.qZA(),t._UZ(9,"hr"),t.YNc(10,wt,33,10,"ng-container",3),t.YNc(11,yt,19,2,"ng-container",3),t.TgZ(12,"div",7)(13,"div")(14,"button",8),t.NdJ("click",function(){return o.enterRegistPage()}),t._uU(15,"\u8a3b\u518a\u767b\u5165"),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){return o.resetAnswerScore()}),t._uU(17," \u6e05\u7a7a\u7d00\u9304 "),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){return o.setTheme()}),t._uU(19,"\u5207\u63db\u9ed1\u767d\u6a21\u5f0f"),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"button",8),t.NdJ("click",function(){return o.clickDebug()}),t._uU(22,"Debug"),t.qZA(),t.TgZ(23,"button",8),t.NdJ("click",function(){return o.clickImExport()}),t._uU(24,"\u532f\u51fa\u532f\u5165"),t.qZA(),t.TgZ(25,"button",8),t.NdJ("click",function(){return o.changeDisplayUnfamiliar()}),t._uU(26," \u4e0d\u719f\u699c "),t.qZA()(),t._UZ(27,"hr"),t.YNc(28,Ot,5,1,"div",9),t.TgZ(29,"canvas",10),t._uU(30),t.qZA(),t.YNc(31,At,26,5,"div",11),t.qZA()(),t.TgZ(32,"div",12),t.YNc(33,St,13,3,"div",13),t.YNc(34,Ut,3,2,"div",14),t.ALo(35,"async"),t.YNc(36,Ft,1,1,"ng-template",null,15,t.W1O),t.TgZ(38,"p",16),t._uU(39," \u7b2c\u4e00\u6b21\u4f7f\u7528\u8acb\u5148\u8a3b\u518a\u5e33\u865f\uff0c\u4e26\u5c07\u672c\u5730\u8cc7\u6599\u4e0a\u50b3\u5373\u53ef\u66f4\u65b0\u699c\u55ae\u8207\u4f7f\u7528\u4e0b\u8f09\u670d\u52d9 "),t.qZA(),t.TgZ(40,"div"),t.YNc(41,kt,7,0,"ng-container",17),t.ALo(42,"async"),t.YNc(43,qt,4,0,"ng-template",null,18,t.W1O),t.TgZ(45,"button",19),t.NdJ("click",function(){return o.isEnterRegistPage=!1}),t._uU(46,"\u8fd4\u56de"),t.qZA()()()),2&n){const r=t.MAs(37),a=t.MAs(44);t.Udp("display",o.isEnterRegistPage?"none":"flex"),t.xp6(2),t.Q6J("ngIf",o.displayMode!==o.DisplayMode.Answer),t.xp6(1),t.Q6J("ngIf",o.displayMode===o.DisplayMode.Answer),t.xp6(2),t.hij("\u7d93\u904e ",o.seconds," \u79d2"),t.xp6(1),t.Q6J("ngIf",o.answerCountToday>0),t.xp6(2),t.Q6J("ngIf",o.card),t.xp6(2),t.Q6J("ngIf",o.debugDisplay),t.xp6(1),t.Q6J("ngIf",o.displayUnfamiliar),t.xp6(17),t.Q6J("ngIf",o.isExportAnswerScore),t.xp6(2),t.Oqu(o.chart),t.xp6(1),t.Q6J("ngIf",o.debugDisplay),t.xp6(1),t.Udp("display",o.isEnterRegistPage?"block":"none"),t.xp6(1),t.Q6J("ngIf",o.logs),t.xp6(1),t.Q6J("ngIf",!t.lcZ(35,19,o.user$))("ngIfElse",r),t.xp6(7),t.Q6J("ngIf",t.lcZ(42,21,o.user$)&&o.logs)("ngIfElse",a)}},dependencies:[g.sg,g.O5,m.Fj,m.wV,m._,m.JJ,m.On,A,g.Ov,ot],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}*[_ngcontent-%COMP%]{font-size:2rem;line-height:4rem;text-align:center}hr[_ngcontent-%COMP%]{width:95%}button[_ngcontent-%COMP%]{border-radius:8px;min-width:160px;margin:1rem}table[_ngcontent-%COMP%]{height:50vh;overflow-y:scroll;display:block}table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:1.5rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border:1px solid #ccc}.rankingList[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:5rem}.rankingList[_ngcontent-%COMP%] > ol[_ngcontent-%COMP%]{border:1px solid black;padding:1rem}.rankingList[_ngcontent-%COMP%]   .answeredMostQuestions[_ngcontent-%COMP%]{color:#ff0;text-shadow:red 2.1px 1.1px 7.1px}.rankingList[_ngcontent-%COMP%]   .mostPositivePoints[_ngcontent-%COMP%]{color:#00ff7f;text-shadow:blue 2.1px 1.1px 7.1px}.rankingList[_ngcontent-%COMP%]   .mostNegativePoints[_ngcontent-%COMP%]{color:#ff0092;text-shadow:orange 2.1px 1.1px 7.1px}.list[_ngcontent-%COMP%]{display:none}.box[_ngcontent-%COMP%]{margin-top:10vh;display:flex;align-items:center;justify-content:center;flex-direction:column;padding-bottom:3rem}.unobviousBtn[_ngcontent-%COMP%]{border:1px solid gray;color:gray;font-size:1.5rem;min-width:120px;line-height:2.5rem}.login[_ngcontent-%COMP%]{margin-top:20vh;display:flex;align-items:center;justify-content:center;flex-direction:column;padding-bottom:3rem}.login[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.login[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.login[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:1.5rem;color:#008b8b}.cardBox[_ngcontent-%COMP%]{padding:1.5rem}.drawMode[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%}@media (max-width: 1199.98px){.box[_ngcontent-%COMP%]{margin-top:10vh}}@media (max-width: 991.98px){.box[_ngcontent-%COMP%]{margin-top:10vh}}@media (max-width: 767.98px){*[_ngcontent-%COMP%]{line-height:3rem}.subInfo[_ngcontent-%COMP%], .subInfo[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:1.5rem}.toolBox[_ngcontent-%COMP%]{display:flex;justify-content:center}.box[_ngcontent-%COMP%]{margin-top:5vh}input[_ngcontent-%COMP%]{max-width:260px}table[_ngcontent-%COMP%]{display:none}.list[_ngcontent-%COMP%]{display:block;height:70vh;overflow-y:scroll;width:85vw}.list[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:1.5rem}.login[_ngcontent-%COMP%]{margin-top:1rem}.login[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:0 2rem;font-size:1.5rem}.rankingList[_ngcontent-%COMP%]{flex-direction:column}.rankingList[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{word-wrap:break-word}.rankingList[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child){font-size:1.3rem}.cardBox[_ngcontent-%COMP%]{padding-top:0}}']})}return i})();var y=function(i){return i.Answer="\u7b54\u984c",i.Questions="\u770b\u7b54\u6848",i}(y||{});const It=[{path:"",component:Bt},{path:"sample",component:L,pathMatch:"full"},{path:"dynamic-masonry",component:z,pathMatch:"full"},{path:"memory-cards",component:V,pathMatch:"full"},{path:"rwd-table",component:K,pathMatch:"full"},{path:"super-menu",component:et,pathMatch:"full"}];let Dt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[O.Bz.forRoot(It),O.Bz]})}return i})(),Nt=(()=>{class i{constructor(){this.title="mod"}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},dependencies:[O.lC],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;max-width:124rem;padding-right:1.5rem;padding-left:1.5rem;margin-right:auto;margin-left:auto}@media (max-width: 1199.98px){.container[_ngcontent-%COMP%]{max-width:96rem}}@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{max-width:72rem}}@media (max-width: 767.98px){.container[_ngcontent-%COMP%]{max-width:none;padding-right:unset;padding-left:unset;margin-right:unset;margin-left:unset}}.rwdTable[_ngcontent-%COMP%]{width:100%}.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 767.98px){.rwdTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rwdTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-th) ": ";font-weight:700;width:2rem;display:inline}.rwdTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border:1px solid #ddd;margin:2rem;display:block;padding:2rem}}']})}return i})(),Et=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({})}return i})();var Wt=d(9257),Qt=d(2572),jt=d(7398),k=d(5619);const Lt=JSON.parse('{"leftNav":[{"level":"level1Nav","name":"CUSTOM PACKAGING","link":"category"},{"level":"level1Nav","name":"SHOP INDUSTRY","link":"","children":[{"level":"level2Nav","name":"Bring","link":"category"},{"level":"level2Nav","name":"Deliver","link":"category"},{"level":"level2Nav","name":"Package","link":"","children":[{"level":"level3Nav","name":"Bring","link":"category"},{"level":"level3Nav","name":"Express","link":"category"},{"level":"level3Nav","name":"Package","link":"category"},{"level":"level3Nav","name":"Deliver","link":"category"}]},{"level":"level2Nav","name":"Express","link":"category"}]},{"level":"level1Nav","name":"PLASTIC BANS","link":"category"}],"rightNav":[]}');var Ht=d.t(Lt,2);let Gt=(()=>{class i{constructor(){this._callToActionAtTopSub=new k.X({content:"King's Birthday 2023 Delivery Details",url:"landing/esgMarketing"}),this.callToActionAtTop$=this._callToActionAtTopSub.asObservable(),this._panelSub=new k.X(Ht),this.panel$=this._panelSub.asObservable(),this.headerData$=(0,Qt.a)([this.callToActionAtTop$,this.panel$]).pipe((0,jt.U)(([e,n])=>({callToActionAtTop:e,panel:n})),(0,M.b)())}SetCallToActionAtTop(e){this._callToActionAtTopSub.next(e)}setPanel(e){this._panelSub.next(e)}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();new t.OlP("translations"),(0,Wt.z2)();let Kt=[Gt],Xt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({providers:Kt,imports:[g.ez]})}return i})(),Vt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[g.ez]})}return i})();var B=d(721);const te_firebase={apiKey:"AIzaSyDb9idOXIXCBWLsbOpj4mJD43ag_9_CxS0",authDomain:"angular-vector-249608.firebaseapp.com",databaseURL:"https://angular-vector-249608-default-rtdb.firebaseio.com",projectId:"angular-vector-249608",storageBucket:"angular-vector-249608.appspot.com",messagingSenderId:"234200635804",appId:"1:234200635804:web:de0f00e10e1c415270d059",measurementId:"G-08GR7BHCDD"};let ee=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i,bootstrap:[Nt]});static#n=this.\u0275inj=t.cJS({imports:[w.b2,T.JF,Dt,(0,B.hX)(()=>(0,B.ZF)(te_firebase)),(0,_.Cm)(()=>(0,_.ad)()),(0,f.AR)(()=>(0,f.v0)()),m.u5,Et,Xt,Vt]})}return i})();w.q6().bootstrapModule(ee).catch(i=>console.error(i))}},C=>{C.O(0,[736],()=>C(C.s=3621)),C.O()}]);